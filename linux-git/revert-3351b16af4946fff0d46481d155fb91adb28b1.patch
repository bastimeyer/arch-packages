--- b/mm/filemap.c
+++ a/mm/filemap.c
@@ -827,7 +827,7 @@
 }
 EXPORT_SYMBOL_GPL(replace_page_cache_page);
 
+noinline int __add_to_page_cache_locked(struct page *page,
-static noinline int __add_to_page_cache_locked(struct page *page,
 					struct address_space *mapping,
 					pgoff_t offset, gfp_t gfp,
 					void **shadowp)
